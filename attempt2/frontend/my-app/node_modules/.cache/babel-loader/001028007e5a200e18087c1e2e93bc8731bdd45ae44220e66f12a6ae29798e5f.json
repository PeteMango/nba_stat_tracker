{"ast":null,"code":"var _jsxFileName = \"/Users/normanchen/Documents/nba_stat_tracker/attempt2/frontend/my-app/src/component/PlayerInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlayerInfo() {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [name, setName] = useState(input);\n  const [stats, setStats] = useState([]);\n  const [value, setValue] = useState(\".\");\n  const [firstChar, setFirstChar] = useState(\"~\");\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [options, setOptions] = useState([]);\n  const suggestions = options.filter(option => option.toLowerCase().startsWith(value.toLowerCase()));\n  const autocompleteRef = useRef();\n  useEffect(() => {\n    const theName = name;\n    const theUrl = \"/api/player/profile/\".concat(theName);\n    axios.get(theUrl, {}).then(res => {\n      setStats(res.data);\n      console.log(stats);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [name]);\n  const isEmpty = str => !str.trim().length;\n  useEffect(() => {\n    const starting_character = firstChar;\n    if (starting_character == \"~\" || value.length <= 1) {\n      setShowSuggestions(false);\n      return;\n    }\n    const suggested_url = \"/api/player/dictionary/active/\".concat(firstChar);\n    axios.get(suggested_url, {}).then(ret => {\n      console.log(firstChar);\n      console.log(ret.data);\n      var empty = [];\n      for (let i = 0; i < ret.data.length; i++) {\n        let obj = ret.data[i];\n        empty.push(obj.full_name);\n        console.log(obj.full_name);\n      }\n      setOptions(empty);\n      console.log(\"options are: \" + options);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [firstChar]);\n  const handleChange = event => {\n    setInput(event.target.value);\n    setValue(event.target.value);\n    if (isEmpty(value) || value.length < 3) {\n      setFirstChar(\"~\");\n      setShowSuggestions(false);\n    }\n    if (value.length >= 3) {\n      setFirstChar(value[0].toUpperCase());\n      setShowSuggestions(true);\n    }\n    console.log(event.target.value);\n  };\n  const handleClick = suggestion => {\n    setName(input);\n    setValue(suggestion);\n    setShowSuggestions(false);\n  };\n  useEffect(() => {\n    const handleClick = event => {\n      if (autocompleteRef.current && !autocompleteRef.current.contains(event.target)) {\n        setShowSuggestions(false);\n      }\n    };\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"autocomplete\",\n      ref: autocompleteRef,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: value,\n        onChange: handleChange,\n        placeholder: \"search for a player\"\n        // onFocus={() => setShowSuggestions(true)}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), showSuggestions && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"suggestions\",\n        children: suggestions.map(suggestion => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleClick(suggestion),\n          children: suggestion\n        }, suggestion, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), stats.map(stat => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Name: \", stat.first_name, \" \", stat.last_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Height: \", stat.height_feet, \"'\", stat.height_inches]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Position: \", stat.position]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Weight: \", stat.weight_pounds]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Team: \", stat.team.full_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)]\n    }, stat.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(PlayerInfo, \"sE6I6EDjn9tgYeUtLPV2sRXi18I=\");\n_c = PlayerInfo;\nexport default PlayerInfo;\nvar _c;\n$RefreshReg$(_c, \"PlayerInfo\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","PlayerInfo","input","setInput","name","setName","stats","setStats","value","setValue","firstChar","setFirstChar","showSuggestions","setShowSuggestions","options","setOptions","suggestions","filter","option","toLowerCase","startsWith","autocompleteRef","theName","theUrl","concat","get","then","res","data","console","log","catch","err","isEmpty","str","trim","length","starting_character","suggested_url","ret","empty","i","obj","push","full_name","error","handleChange","event","target","toUpperCase","handleClick","suggestion","current","contains","document","addEventListener","removeEventListener","map","stat","first_name","last_name","height_feet","height_inches","position","weight_pounds","team","id"],"sources":["/Users/normanchen/Documents/nba_stat_tracker/attempt2/frontend/my-app/src/component/PlayerInfo.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\n\nfunction PlayerInfo() {\n  const [input, setInput] = useState(\"\");\n  const [name, setName] = useState(input);\n  const [stats, setStats] = useState([]);\n\n  const [value, setValue] = useState(\".\");\n  const [firstChar, setFirstChar] = useState(\"~\");\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [options, setOptions] = useState([]);\n  const suggestions = options.filter((option) =>\n    option.toLowerCase().startsWith(value.toLowerCase())\n  );\n\n  const autocompleteRef = useRef();\n\n  useEffect(() => {\n    const theName = name;\n    const theUrl = \"/api/player/profile/\".concat(theName);\n\n    axios\n      .get(theUrl, {})\n      .then((res) => {\n        setStats(res.data);\n        console.log(stats);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [name]);\n\n  const isEmpty = str => !str.trim().length;\n\n  useEffect(() => {\n    const starting_character = firstChar;\n    if (starting_character == \"~\" || value.length <= 1) {\n      setShowSuggestions(false);\n      return;\n    }\n    const suggested_url = \"/api/player/dictionary/active/\".concat(firstChar);\n    axios\n      .get(suggested_url, {})\n      .then((ret) => {\n        console.log(firstChar);\n        console.log(ret.data);\n        var empty = [];\n        for (let i = 0; i < ret.data.length; i++) {\n          let obj = ret.data[i];\n          empty.push(obj.full_name);\n          console.log(obj.full_name);\n        }\n        setOptions(empty);\n        console.log(\"options are: \" + options);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [firstChar]);\n\n  const handleChange = (event) => {\n    setInput(event.target.value);\n    setValue(event.target.value);\n    if(isEmpty(value) || value.length < 3) {\n      setFirstChar(\"~\");\n      setShowSuggestions(false);\n    }\n    if (value.length >= 3) {\n      setFirstChar(value[0].toUpperCase());\n      setShowSuggestions(true);\n    }\n    console.log(event.target.value);\n  };\n  const handleClick = (suggestion) => {\n    setName(input);\n    setValue(suggestion);\n    setShowSuggestions(false);\n  };\n\n  useEffect(() => {\n    const handleClick = (event) => {\n      if (\n        autocompleteRef.current &&\n        !autocompleteRef.current.contains(event.target)\n      ) {\n        setShowSuggestions(false);\n      }\n    };\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div className=\"autocomplete\" ref={autocompleteRef}>\n        <input\n          value={value}\n          onChange={handleChange}\n          placeholder=\"search for a player\"\n          // onFocus={() => setShowSuggestions(true)}\n        />\n        {showSuggestions && (\n          <ul className=\"suggestions\">\n            {suggestions.map((suggestion) => (\n              <li\n                onClick={() => handleClick(suggestion)}\n                key={suggestion}\n              >\n                {suggestion}\n              </li>\n            ))}\n          </ul>\n        )}\n        <button onClick={handleClick}>Submit</button>\n      </div>\n      {stats.map((stat) => (\n        <div key={stat.id}>\n          <h1>\n            Name: {stat.first_name} {stat.last_name}\n          </h1>\n          <h1>\n            Height: {stat.height_feet}'{stat.height_inches}\n          </h1>\n          <h1>Position: {stat.position}</h1>\n          <h1>Weight: {stat.weight_pounds}</h1>\n          <h1>Team: {stat.team.full_name}</h1>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default PlayerInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}